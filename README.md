# آزمون PHP OOP – فهرست محصولات

این امتحان عملی ۳۰ تا ۴۰ دقیقه‌ای بر مفاهیم زیر تمرکز دارد: `class`, `object`, `constructor`, سطوح دسترسی (`public` / `protected` / `private`), مفهوم `abstract class`, پیاده‌سازی `interface`, ارث‌بری (`extends`) و خواندن داده با PDO. کل پروژه آماده است؛ فقط بخش‌های علامت‌خورده با عنوان «وظیفه (TODO)» باید توسط شما تکمیل شود تا یک فروشگاه کامل ساخته شود.

---

## قوانین ضروری
- فقط قسمت‌های علامت‌خورده با «وظیفه (TODO)» را تغییر دهید و نام فایل‌ها یا ساختار پوشه را عوض نکنید.
- استفاده از جزوه شخصی یا مستندات رسمی مانعی ندارد؛ 
- بعد از اتمام کار باید بتوانید منطق کد خود را حضوری توضیح دهید.

---

## واژگان فنی
- «انتزاعی» = `abstract` (برای کلاس یا متدی که بدنه کامل ندارد).
- «محافظت‌شده» = `protected` (سطح دسترسی که فقط داخل کلاس و فرزندان دیده می‌شود).
- «فرزند» = `subclass` (کلاسی که با `extends` از کلاس دیگری ارث می‌برد).
- «سازنده» = `constructor` یا همان متد `__construct`.
- «وظیفه (TODO)» = برچسبی که در فایل‌ها قرار دارد و باید توسط شما تکمیل شود.

---

## فایل‌های دارای وظیفه
- فایل `config/student.php`: مقداردهی ثابت‌های `STUDENT_ID`, `STUDENT_NAME`, `STUDENT_SECRET_PHRASE` با اطلاعات واقعی خودتان.
- فایل `src/Product.php`: ساخت کلاس انتزاعی با سه ویژگی محافظت‌شده، سازنده، متدهای `getTitle()`, `getPrice()` و متد انتزاعی `getTypeLabel()`.
- فایل `src/Sellable.php`: تعریف interface با متد `getFinalPrice(): int`.
- فایل `src/Book.php`: پیاده‌سازی کلاس فرزند با سازنده، `getTypeLabel()` که باید رشتهٔ «کتاب» را برگرداند و `getFinalPrice()` با ۱۰٪ تخفیف.
- فایل `src/Notebook.php`: مشابه Book اما `getTypeLabel()` باید «دفتر» باشد و متد `getFinalPrice()` بدون تخفیف قیمت را برگرداند.
- فایل `public/index.php`: ساخت اشیا براساس داده‌های دیتابیس، پر کردن آرایه `$products` و استفاده از متدهای کلاس‌ها برای نمایش اطلاعات در صفحه‌.

---

## راه‌اندازی سریع
1. ریپو را fork و clone کنید.
2. یک دیتابیس MySQL (مثلاً `oop_exam`) بسازید.
3. فایل `db/init.sql` را اجرا کنید تا جدول `products` و داده‌های اولیه وارد شود.
4. تنظیمات اتصال در `db/db.php` (`$dsn`, `$user`, `$pass`) را مطابق سیستم خود تغییر دهید.
5. سرور PHP را روی `public/index.php` اجرا کنید (برای مثال `http://localhost/<project-folder>/public/index.php` یا دستور `php -S localhost:8000 -t public`).

قبل از انجام وظایف (TODO) صفحه فقط یک پیام خالی نشان می‌دهد؛ بعد از تکمیل مراحل، کارت‌های محصولات به شکل کامل نمایان می‌شوند.

---

## سناریوی پروژه
- فروشگاه شامل دو نوع محصول «کتاب» (type = `book`) و «دفتر» (type = `notebook`) است.
- فایل `db/db.php` داده‌ها را در آرایه `$rows` می‌ریزد.
- شما باید با ایده‌های OOP، این داده‌ها را به اشیای `Book` و `Notebook` تبدیل کنید و به کمک متدهای کلاس، محتوای صفحه را بسازید.

گام‌های کلیدی:
1. پیاده‌سازی `Product` و `Sellable` به عنوان پایهٔ معماری شی‌گرا.
2. ساخت کلاس‌های `Book` و `Notebook` با منطق قیمت نهایی متفاوت.
3. تکمیل `public/index.php` برای ساخت شیءها، افزودن به `$products` و چاپ داده‌ها در HTML.

---

## تحویل
- پس از انجام هر چند وظیفه، یک commit با پیام شفاف بزنید (مثلاً `Finish Product abstract class`).

اگر ابهامی داشتید حتماً قبل از نوشتن کد از مدرس سؤال کنید. این README هیچ پاسخ آماده‌ای ندارد و همه‌چیز باید به دست خودتان تکمیل شود. 
